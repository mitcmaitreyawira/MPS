import{ai as g,aj as h,r as o,j as r,a6 as E}from"./index-JBX9P6Qg.js";var j=h();const k=g(j),D={sm:"max-w-sm sm:max-w-md",md:"max-w-md sm:max-w-lg",lg:"max-w-lg sm:max-w-xl lg:max-w-2xl",xl:"max-w-xl sm:max-w-2xl lg:max-w-4xl"},R=({isOpen:a,onClose:s,title:l,children:f,size:b="md",showCloseButton:c=!0,closeOnOverlayClick:y=!0,closeOnEscape:i=!0,className:p=""})=>{const n=o.useRef(null),m=o.useRef(null);o.useEffect(()=>{if(!a||!i)return;const e=t=>{t.key==="Escape"&&s()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[a,i,s]),o.useEffect(()=>{if(a){m.current=document.activeElement;const e=setTimeout(()=>{var t;(t=n.current)==null||t.focus()},100);return document.body.style.overflow="hidden",()=>{clearTimeout(e),document.body.style.overflow="unset"}}else m.current&&m.current.focus()},[a]);const v=e=>{var x;if(e.key!=="Tab")return;const t=(x=n.current)==null?void 0:x.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(!t||t.length===0)return;const d=t[0],u=t[t.length-1];e.shiftKey?document.activeElement===d&&(e.preventDefault(),u.focus()):document.activeElement===u&&(e.preventDefault(),d.focus())},w=e=>{y&&e.target===e.currentTarget&&s()};return a?k.createPortal(r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-start sm:items-center p-2 sm:p-4 transition-opacity duration-300 overflow-y-auto",onClick:w,role:"dialog","aria-modal":"true","aria-labelledby":l?"modal-title":void 0,children:r.jsxs("div",{ref:n,className:`bg-surface rounded-lg sm:rounded-xl shadow-xl w-full ${D[b]} mx-auto border border-border transform transition-all duration-300 scale-100 my-2 sm:my-0 ${p}`,onClick:e=>e.stopPropagation(),tabIndex:-1,onKeyDown:v,children:[(l||c)&&r.jsxs("div",{className:"flex justify-between items-center p-4 sm:p-5 border-b border-border",children:[l&&r.jsx("h2",{id:"modal-title",className:"text-lg sm:text-xl font-bold text-text-primary pr-2",children:l}),c&&r.jsx("button",{onClick:s,className:"p-1 sm:p-2 text-text-secondary hover:text-text-primary hover:bg-gray-100 rounded-full transition-colors flex-shrink-0","aria-label":"Close modal",children:r.jsx(E,{className:"h-5 w-5"})})]}),r.jsx("div",{className:"p-4 sm:p-6",children:f})]})}),document.body):null};export{R as M};
